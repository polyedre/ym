---
# Terraform values for configuration management
terraform:
  required_version: ">= 1.0"
  required_providers:
    aws:
      version: "~> 5.0"
    kubernetes:
      version: "~> 2.20"

variables:
  environment:
    description: Environment name
    type: string
    default: staging
  region:
    description: AWS region
    type: string
    default: us-east-1
  instance_count:
    description: Number of instances
    type: number
    default: 2
  
aws:
  region: us-east-1
  account_id: "123456789012"
  
  ec2:
    instance_type: t3.medium
    ami_filter:
      owner: "099720109477"
      name: "ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*"
    security_groups:
      - web-sg
      - app-sg
    tags:
      Environment: production
      Team: platform
      CostCenter: engineering

  rds:
    engine: postgres
    engine_version: 15.3
    instance_class: db.t3.small
    allocated_storage: 100
    storage_encrypted: true
    backup_retention_period: 30
    deletion_protection: true

kubernetes:
  cluster_version: 1.27
  node_groups:
    apps:
      desired_size: 3
      min_size: 2
      max_size: 10
      instance_types: [t3.large, t3a.large]
    system:
      desired_size: 2
      min_size: 2
      max_size: 4
      instance_types: [t3.medium]
